<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<chapter xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="_mainpage">
<section xml:id="_index_1autotoc_md0">
<title>Description</title>

<para><itemizedlist>
<listitem>
<para>(node_a_1) A node that implements an action client, allowing the user to set a target (x, y) or to cancel it.</para>
</listitem><listitem>
<para>(node_a_2) Anode publishes the robot position and velocity as a custom message (x,y, vel_x, vel_z), by relying on the values published on the topic /odom</para>
</listitem><listitem>
<para>(node_b) A service node that, when called, prints the number of goals reached and cancelled;</para>
</listitem><listitem>
<para>(node_c) A node that subscribes to the robot’s position and velocity (using the custom message) and prints the distance of the robot from the target and the robot’s average speed. Use a parameter to set how fast the node publishes the information.</para>
</listitem></itemizedlist>
</para>
</section>
<section xml:id="_index_1autotoc_md1">
<title>Installation</title>

<para>Create a catjing workspace:</para>

<para><literallayout><computeroutput>$&#32;mkdir&#32;rt1_assignment2/src
$&#32;cd&#32;rt1_assignment2/src
$&#32;catkin_init_workspace
</computeroutput></literallayout></para>

<para>Clone this repository to the source folder in created workspace</para>

<para><literallayout><computeroutput>$&#32;gh&#32;repo&#32;clone&#32;drozdja/rt1_assignment2
</computeroutput></literallayout></para>

<para>Build and source the project</para>

<para><literallayout><computeroutput>$&#32;cd&#32;..
$&#32;catkin_make
$&#32;source&#32;devel/setup.bash
</computeroutput></literallayout></para>
</section>
<section xml:id="_index_1autotoc_md2">
<title>Running</title>

<para><literallayout><computeroutput>$&#32;roslaunch&#32;assignment_2_2022&#32;rt1_ass2.launch&#32;
</computeroutput></literallayout></para>
</section>
<section xml:id="_index_1autotoc_md3">
<title>Pseudocode of node_a_1</title>

<para><literallayout><computeroutput>initialize&#32;ROS&#32;node
create&#32;a&#32;service&#32;client&#32;for&#32;the&#32;goal_info&#32;service
create&#32;an&#32;action&#32;client&#32;for&#32;the&#32;reaching_goal&#32;action
while&#32;(ros&#32;is&#32;running)
&#32;&#32;&#32;&#32;prompt&#32;user&#32;to&#32;enter&#32;&apos;s&apos;&#32;to&#32;set&#32;a&#32;new&#32;goal&#32;or&#32;&apos;q&apos;&#32;to&#32;cancel&#32;current&#32;goal
&#32;&#32;&#32;&#32;if&#32;user&#32;enters&#32;&apos;s&apos;
&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;get&#32;new&#32;x&#32;and&#32;y&#32;goal&#32;coordinates&#32;from&#32;user
&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;set&#32;the&#32;target&#32;goal&apos;s&#32;x&#32;and&#32;y&#32;position&#32;to&#32;the&#32;new&#32;coordinates
&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;send&#32;the&#32;goal&#32;to&#32;the&#32;action&#32;server
&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;set&#32;the&#32;new&#32;x&#32;and&#32;y&#32;goal&#32;coordinates&#32;as&#32;parameters&#32;for&#32;other&#32;nodes
&#32;&#32;&#32;&#32;else&#32;if&#32;user&#32;enters&#32;&apos;q&apos;
&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cancel&#32;the&#32;current&#32;goal
&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;request&#32;goal&#32;cancellation&#32;from&#32;the&#32;goal_info&#32;service
&#32;&#32;&#32;&#32;else
&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;print&#32;&quot;Invalid&#32;key&quot;
&#32;&#32;&#32;&#32;spin&#32;ROS&#32;once
</computeroutput></literallayout></para>
</section>
<section xml:id="_index_1autotoc_md4">
<title>Pseudocode of node_a_2</title>

<para><literallayout><computeroutput>initialize&#32;ROS&#32;node
subscribe&#32;to&#32;the&#32;odometry&#32;topic&#32;and&#32;register&#32;a&#32;callback&#32;function&#32;to&#32;update&#32;global&#32;x,&#32;y,&#32;vel_x,&#32;vel_y
advertise&#32;a&#32;topic&#32;to&#32;publish&#32;the&#32;robot&#32;data
get&#32;the&#32;frequency&#32;parameter
while&#32;(ros&#32;is&#32;running)
&#32;&#32;&#32;&#32;create&#32;a&#32;message&#32;to&#32;publish&#32;the&#32;robot&#32;data&#32;with&#32;x,&#32;y,&#32;vel_x,&#32;vel_y
&#32;&#32;&#32;&#32;publish&#32;the&#32;message
&#32;&#32;&#32;&#32;sleep&#32;for&#32;1/frequency&#32;seconds
&#32;&#32;&#32;&#32;spin&#32;ROS&#32;once
</computeroutput></literallayout></para>
</section>
<section xml:id="_index_1autotoc_md5">
<title>ROS graph of the project generated by rqt-graph</title>

<para> </para>
</section>
</chapter>
